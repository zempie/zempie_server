paths:
  /user/info:
    get:
      tags:
        - Zempie User
      summary: 사용자 정보
      security:
        - bearerAuth: [ ]
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /channel/{channel_id}:
    get:
      tags:
        - Zempie User
      summary: 사용자 채널
      security:
        - bearerAuth: []
      parameters:
        - name: "channel_id"
          in: "path"
          description: "채널 ID"
          type: "string"
          required: true
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /user/filter/bad-word:
    get:
      tags:
        - Zempie
      parameters:
        - name: w
          in: query
          type: string
          description: 확인할 단어
          required: true
      responses:
        200:
          description: ㅇㅋ

  /user/sign-up:
    post:
      tags:
        - Zempie User
      summary: 가입
      security:
          - bearerAuth: []
      parameters:
        - name: name
          in: body
          type: string
          description: 이름
          required: false
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /user/update/info:
    post:
      tags:
        - Zempie User
      summary: 사용자 채널 정보 수정
      security:
          - bearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                channel_id:
                  type: string
                  description: 채널 ID
                name:
                  type: string
                  description: 이름
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /items:
    get:
      tags:
        - Zempie Shop 
      summary: 사용자 참조 아이템, 샾 아이템 목록
      security:
        - bearerAuth: [ ]
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'


  /items/{store_type}:
    get:
      tags:
        - Zempie Shop 
      summary: 사용자 참조 아이템, 샾 아이템 목록
      security:
        - bearerAuth: [ ]
      parameters:
        - name: "store_type"
          in: "path"
          description: "스토어 타입 ( 1 = play store,  2 = app store, 3 = web"
          type: "number"
          required: false

      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /payment/iap:
    post:
      tags:
        - Zempie Shop 
      summary: 결제, Unity / Flutter 
      security:
        - bearerAuth: [ ]
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                receipt:
                  type: object
                  description: 영수증 
                  required: true
                product_id:
                  type: string
                  description: 상품명
                  required: true
              required:
                - receipt
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /payment/web:
    post:
      tags:
        - Zempie Shop 
      summary: 결제, Bootpay
      security:
        - bearerAuth: [ ]
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                receipt:
                  type: object
                  description: 영수증 
              required:
                - receipt
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'
  
  /payment/log:
    get:
      tags:
        - Zempie Shop 
      summary: 결제 내역
      security:
        - bearerAuth: [ ]
      parameters:
        - name: limit
          in: query
          description: 기본 10
          type: number
          required: false
        - name: offset
          in: query
          description: 기본 0
          type: number
          required: false
        - name: sort
          in: query
          description: created_at 기본 정렬
          type: string
          required: false
        - name: dir
          in: query
          description: desc 기본 direction - desc, asc
          type: string
          required: false
        - name: start_date
          in: query
          description: 빈값이면 현재 날짜를 기준으로 -10일 한 값이 기본값
          type: string
          required: false
        - name: end_date
          in: query
          description: 빈값이면 현재 날짜가 기본값
          type: string
          required: false
        
      responses:
        200:
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number,
                    description: "전체 리스트 개수"
                    example: 100,
                  list: 
                    type: arrary,
                    example: [
                        {
                        "created_at": "2023-10-19T06:05:46.000Z",
                        "payment_method": "카드",
                        "receipt_no": "6530c704a575b4002250c525",
                        "price": 1200,
                        "item": "zem_10"
                      }
                    ]
                 
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /coin/usage/list:
    get:
      tags:
        - Zempie Shop 
      summary: 코인 사용 내역
      security:
        - bearerAuth: [ ]
      parameters:
        - name: limit
          in: query
          description: 기본 10
          type: number
          required: false
        - name: offset
          in: query
          description: 기본 0
          type: number
          required: false
        - name: sort
          in: query
          description: created_at 기본 정렬
          type: string
          required: false
        - name: dir
          in: query
          description: desc 기본 direction - desc, asc
          type: string
          required: false
        - name: start_date
          in: query
          description: 빈값이면 현재 날짜를 기준으로 -10일 한 값이 기본값
          type: string
          required: false
        - name: end_date
          in: query
          description: 빈값이면 현재 날짜가 기본값
          type: string
          required: false
        
      responses:
        200:
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number,
                    description: "전체 리스트 개수"
                    example: 100,
                  list: 
                    type: arrary,
                    example: [
                        {
                        "created_at": "2023-10-19T10:16:46.000Z",
                        "coin_type": 0,
                        "amount": 10,
                        "info": {
                            "uid": "meVDE3aqflYrlQXY1g5TGtHTphM2",
                            "nickname": "local100"
                        }
                      }
                    ]
                 
        403:
          $ref: '#/components/responses/UnauthorizedError'

  /coin/transfer:
    post:
      tags:
        - Zempie Shop 
      summary: 코인 전달 - 현재는 도네이션만 사용하나 추후 선물기능과 같은 코인 이동시스템 도입시 사용 가능
      security:
        - bearerAuth: [ ]
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                coin_type:
                  type: number
                  description: "코인 타입 ( 0 : zem, 1: pie)"
                  example: 0
                  required: true
                amount:
                  type: number
                  description: 전달할 코인 수
                  required: true
                target_nickname:
                  type: string
                  description: 전달받을 유저 닉네임
                  required: true
                info: 
                  type: object
                  description: "전달되는 타입 ( 2: Donation, 3: gift, 4: event ) enum 파일 참고"
                  example: { type: 2 }
                  required: true
              required:
                - coin_type
                - amount
                - target_nickname
                - info
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'
  /user/verify-id:
    post:
      tags:
        - Zempie User
      summary: 본인 인증 ( 본인인증 솔루션 아직 안 붙임 )
      security:
        - bearerAuth: [ ]
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                is_passed:
                  type: boolean
                  description: 패스여부 
                  required: true
              required:
                - is_passed
      responses:
        200:
          $ref: '#/components/responses/UserEx'
        403:
          $ref: '#/components/responses/UnauthorizedError'
  /user/bank/accounts:
    get:
      tags:
        - Zempie User
      summary: 사용자 계좌 정보 
      security:
        - bearerAuth: [ ]
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'
  /user/bank/account:
    post:
      tags:
        - Zempie User 
      summary: 계좌 등록
      security:
        - bearerAuth: [ ]
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                bank:
                  type: string
                  description: 은행 계좌 이름
                  example: 0
                  required: true
                account_num:
                  type: number
                  description: 계좌번호(특수문자 제외)
                  required: true
                is_auth:
                  type: boolean
                  description: 계좌인증 여부( 현재 사용 안함 )
              required:
                - bank
                - account_num
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      tags:
        - Zempie User
      summary: 계좌 삭제
      security:
        - bearerAuth: [ ]
      parameters:
        - name: "account_id"
          in: "path"
          description: "계좌 아이디"
          type: "string"
          required: true
      responses:
        200:
          $ref: '#/components/responses/Okay'
        403:
          $ref: '#/components/responses/UnauthorizedError'
  /coin/redemption:
    post:
      tags:
        - Zempie User 
      summary: 환전 신청
      security:
        - bearerAuth: [ ]
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                bank_account_id:
                  type: number
                  description: 은행 계좌 id
                  example: 1
                  required: true
                amount:
                  type: number
                  description: 환전 젬 수량
                  example: 10
                  required: true
              required:
                - bank_account_id
                - amount
      responses:
        200:
         content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      req_zem: 
                        type: number
                        example: 10
                      current_zem:
                        type: number
                        example: 990
                      result:
                        type: number
                        description: '0: 환전중, 1: 완료, 2: 보류'
                        example: 0
        403:
          $ref: '#/components/responses/UnauthorizedError'
  /coin/redemptions:
    get:
      tags:
        - Zempie User
      summary: 환전 신청 내역
      security:
        - bearerAuth: [ ]
      responses:
        200:
         content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      processing_total: 
                        type: number
                        example: 20
                      count:
                        type: number
                        example: 10
                      list:
                        type: array
                        example: [
                         {
                            "created_at": "2023-10-23T08:37:52.000Z",
                            "bank_account": 123231330,
                            "coin_amount": 100,
                            "cash_amount": 95,
                            "memo": null,
                            "status": 0
                        },
                        ]
                        
        403:
          $ref: '#/components/responses/UnauthorizedError'

  



